<UserControl x:Class="CadEye.View.Cad_FileView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CadEye.View" xmlns:viewcs="clr-namespace:CadEye.ViewCS" d:DataContext="{d:DesignInstance Type=viewcs:Bridge}"
             mc:Ignorable="d" 
            d:DesignHeight="500" d:DesignWidth="200">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="0"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="30"/>
        </Grid.RowDefinitions>
        <!-- <Button Grid.Row="0" Content="Search" Click="FolderSearch_btn" Style="{StaticResource Button_Glass}" ></Button> -->

        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="5"/>
                <RowDefinition Height="30"/>
                <RowDefinition Height="5"/>
                <RowDefinition Height="30"/>
                <RowDefinition Height="5"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="1" Background="#444444" CornerRadius="5" HorizontalAlignment="Stretch" Height="25" Padding="0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="5"/>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="5"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="5"/>
                    </Grid.ColumnDefinitions>
                    <Button FontFamily="Segoe MDL2 Assets" Grid.Column="1" Content="&#xE721;" HorizontalAlignment="Right" Background="Transparent" 
               HorizontalContentAlignment="Center" VerticalContentAlignment="Center" FontSize="13" Foreground="White" BorderThickness="0" />
                    <TextBox x:Name="Tag_SearchText" BorderThickness="0" Grid.Column="3" KeyDown="Tag_Enter_Search" TextChanged="Overlay_Tag"
                   Background="Transparent" FontSize="15" VerticalAlignment="Center" Foreground="White" FontFamily="Segoe UI"/>
                    <TextBox x:Name="PlaceHolder_Overlay_Tag" Text="Tag" Grid.Column="3" VerticalAlignment="Center" HorizontalAlignment="Left"
                             Background="Transparent" Foreground="Gray" BorderThickness="0" FontWeight="Bold" FontFamily="Segoe UI"/>
                </Grid>
            </Border>

            <Border Grid.Row="3" Background="#444444" CornerRadius="5" HorizontalAlignment="Stretch" Height="25" Padding="0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="5"/>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="5"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="5"/>
                    </Grid.ColumnDefinitions>
                    <Button FontFamily="Segoe MDL2 Assets" Grid.Column="1" Content="&#xE721;" HorizontalAlignment="Right" Background="Transparent"
               HorizontalContentAlignment="Center" VerticalContentAlignment="Center" FontSize="13" Foreground="White" BorderThickness="0" />
                    <TextBox x:Name="File_SearchText" BorderThickness="0" Grid.Column="3" KeyDown="File_Name_Enter_Search" TextChanged="Overlay_FileName"
                   Background="Transparent" FontSize="15" VerticalAlignment="Center" Foreground="White" FontFamily="Segoe UI"/>
                    <TextBox x:Name="PlaceHolder_Overlay_FileName" Text="File Name" Grid.Column="3" VerticalAlignment="Center" HorizontalAlignment="Left"
                         Background="Transparent" Foreground="Gray" BorderThickness="0" FontWeight="Bold" FontFamily="Segoe UI"/>
                </Grid>
            </Border>

            <Border Grid.Row="5" >
                <DataGrid x:Name="Child_Box" 
                  VerticalAlignment="Top"
                  Style="{StaticResource Data_Gaid_Background}"
                  ColumnHeaderStyle ="{StaticResource Data_Grid_ColumnHeader}"
                  CellStyle="{StaticResource Data_Grid_Cell}"
                  ItemsSource="{Binding Files}"
                  SelectedCellsChanged="File_List_Selecetd">
                    <DataGrid.Columns>
                        <DataGridTextColumn 
                            Header="No" 
                            Binding="{Binding Key}" 
                            ElementStyle ="{StaticResource Data_ElementStyle}"
                            Width="30"/>
                        <DataGridTextColumn 
                            Header="Event" 
                            Binding="{Binding FilePath}" 
                            ElementStyle ="{StaticResource Data_ElementStyle}"
                            Width="*"/>
                    </DataGrid.Columns>
                    <DataGrid.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Open File" Click="Open_File"/>
                            <MenuItem Header="Open Folder" Click="Open_Folder"/>
                        </ContextMenu>
                    </DataGrid.ContextMenu>
                </DataGrid>
            </Border>

            <Grid Grid.Row="5">
                <Border  x:Name="Overlay" Background="#80000000" Visibility="Hidden">
                    <TextBlock Text="로딩 중..." Foreground="White" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
            </Grid>
        </Grid>
        <Button Grid.Row="3" x:Name="DB_Write_btn" Visibility="Visible" Content="Tree Update" Click="Tree_Update" Style="{StaticResource Button_Glass}"></Button>
        <Button Grid.Row="3" x:Name="DB_Read_btn" Visibility="Hidden" Content="Tree Update" Click="DB_Read" Style="{StaticResource Button_Glass}"></Button>
        <Button Grid.Row="5" x:Name="DB_Update_btn" Content="DataBase Update" Click="DB_Update" Style="{StaticResource Button_Glass}"></Button>
        <Button Grid.Row="7"  x:Name="DB_Backup_btn" Content="Data Back UP" Click="DB_Backup" Style="{StaticResource Button_Glass}"></Button>
        <Button Grid.Row="9"  x:Name="DB_Reset_btn" Content="Data Reset" Click="Reset" Style="{StaticResource Button_Glass}"></Button>
    </Grid>
</UserControl>
